"use strict";$(function(){var t,n,a;!function(n){function a(t){n(".top_banner1 li").eq(t).stop().fadeIn().siblings().stop().fadeOut(),n(".banner_point span").eq(t).css("background","#FFF").siblings().css("background","none")}n("#top_banner-s1").click(function(){n(".top_banner-s").css("display","none")});var t=0,i=setInterval(function(){++t==n(".top_banner1 li").length&&(t=0),a(t)},3e3);n(".top_banner").hover(function(){clearInterval(i)},function(){i=setInterval(function(){++t==n(".top_banner1 li").length&&(t=0),a(t)},3e3)}),n(".banner_point span").mouseover(function(){var t=n(this).index();console.log(t),a(t)}),n(".banner_nav-a a").eq(0).click(function(){--t<0&&(t=n(".top_banner1 li").length-1),a(t)}),n(".banner_nav-a a").eq(1).click(function(){++t==n(".top_banner1 li").length&&(t=0),a(t)})}(jQuery),(t=jQuery)(".nav_a").hover(function(){t(this).css("background","#FFF"),t(this).find("div").css("display","block"),t(this).find("i").css("background-position-x","-85px")},function(){t(this).find("div").css("display","none"),t(this).find("i").css("background-position-x","-71px"),t(this).css("background","#f9f9f9")}),t(".banner_nav2").hover(function(){t(this).find(".banner_nav1").css({display:"block"}),t(this).css("background","#FFF")},function(){t(this).find(".banner_nav1").css("display","none"),t(this).css("background","rgba(255, 255, 255, 0.7)")}),$(".cart_btn ,#cart").click(function(){window.open("http://localhost:8080/html/cart.html")}),$(".cart_btn").hover(function(){var t=JSON.parse(localStorage.getItem("userData"));if(t)var n="1003/userData/"+t.id;else n="1002/data";$(this).css("background","#FFF"),$(".cartList").css("display","block"),$.get("http://localhost:"+n,function(s){t&&(s=JSON.parse(s.cartData)),$.get("http://localhost:1001/main3",function(a){var i="",t=document.createElement("ul");$(s).each(function(n){$(a).each(function(t){s[n].id==a[t].id&&(i+='\n\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t<a href="">\n\t\t\t\t\t\t\t\t\t<img src="'+a[t].src+'" />\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<p>'+a[t].title+"</p>\n\t\t\t\t\t\t\t\t\t\t<span>×"+s[n].num+'</span>\n\t\t\t\t\t\t\t\t\t\t<span class="price">￥'+a[t].price+"</span>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</li>")})});$(t).html(i+'<input type="button" value="去结算" class="pay" />'),$(".cartList").html($(t))}),$.get("http://localhost:"+n,function(n){var a=0;t&&(n=JSON.parse(n.cartData)),$(n).each(function(t){n[t].num&&(a+=Number(n[t].num))}),$(".prodnum").text("("+a+")")})}),$(".pay").click(function(){window.open("http://localhost:8080/html/cart.html")})},function(){$(this).css("background","#F2F2F2"),$(".cartList").css("display","none")}),$.get("http://localhost:1001/announce",function(t){for(var n=document.createElement("div"),a=0;a<t.length;a++)n.innerHTML+="<p>"+t[a]+"<p>";$(".banner_nav_a3").append($(n));var i=0;setInterval(function(){++i==t.length&&(i=0),$(n).stop().animate({top:-10-30*i})},2e3)}),$.get("http://localhost:1001/banner",function(n){var a="";$(n).each(function(t){a+='<li><img src = "'+n[t].src+'"></li>'}),$(".top_banner1").html(a)}),$.get(" http://localhost:1001/main3",function(t){for(var n="",a=document.createElement("ul"),i=0;i<8;i++){if("hot"==t[i].type)var s='<span class="hot">'+t[i].label+"</span>";else if("cold"==t[i].type)s='<span class="cold">'+t[i].label+"</span>";else s="";n+='\n\t\t\t<li>\n\t\t        <a href="javascript:;" class="detail" data-id="'+t[i].id+'">\n\t\t        \t'+s+'\n\t\t            <img src="'+t[i].src+'" alt="">\n\t\t            <h3>'+t[i].title+"</h3>\n\t\t            <p>"+t[i].intro+" </p>\n\t\t            <h4>￥"+t[i].price+"</h4>\n\t\t        </a>\n\t         </li>\n\t\t\t"}a.innerHTML=n,$(".main-a3").html($(a)),$(".detail").click(function(){var t=$(this).attr("data-id");window.open("/html/detail.html?id="+t)})}),$.get("http://localhost:1001/phone",function(n){var a="";$(n).each(function(t){a+='\n\t\t\t<li class="">\n\t\t\t\t<a href="javascript:;" class="detail" data-id="'+n[t].id+'">\n\t\t\t\t\t<img src="'+n[t].src+'" alt="" />\n\t\t\t\t\t<h3>'+n[t].title+"</h3>\n\t\t\t\t\t<h4>"+n[t].intro+"</h4>\n\t\t\t\t\t<p>¥"+n[t].price+"</p>\n\t\t\t\t</a>\n\t\t\t</li>\n\t\t\t"}),$(".phoneList").html('<li><a href="javascript:;"><img src="src/img/advert2.png" alt=""></a></li>'),$(".phoneList").html($(".phoneList").html()+a),$(".detail").click(function(){var t=$(this).attr("data-id");window.open("/html/detail.html?id="+t)})}),$(".box-right1 a").hover(function(){$(this).find("span").css("display","block")},function(){$(this).find("span").css("display","none")}),window.onscroll=function(){var n=$("html").scrollTop(),a=[$(".phone").offset().top,$(".computer").offset().top,$(".main-pb1").offset().top,$(".main-zn1").offset().top];n>=$(".main-c1").offset().top-300&&n<$(".main-d").offset().top?$(".box-right").stop().fadeIn():$(".box-right").stop().fadeOut();for(var t=function(t){a[t]-300<=n&&n<a[t]+325&&($(".box-right li").eq(t).find("i").css({display:"block"}).end().siblings().find("i").css({display:"none"}),$(".box-right li").eq(t).find("a").css("color","#000").end().siblings().find("a").css("color","#AAA")),$(".box-right li").eq(t).click(function(){$("html").stop().animate({scrollTop:a[t]},500)})},i=0;i<a.length;i++)t(i)},$.get("http://localhost:1001/advertList",function(n){var a="";$(n).each(function(t){a+=' <li><a href="javascript:;"><img src="'+n[t]+'" alt=""></a></li>'}),$(".advertList").html(a)}),n=0,$(".rightBtn").click(function(){1==++n&&$(".rightBtn").css("display","none"),$(".main-b2 ul").stop().animate({left:-1200*n}),0!=$(".main-b2 ul").css("left")&&$(".leftBtn").css("display","block")}),$(".leftBtn").click(function(){0==--n&&$(".leftBtn").css("display","none"),$(".main-b2 ul").stop().animate({left:1200*n}),0!=$(".main-b2 ul").css("left")&&$(".rightBtn").css("display","block")}),$(".searchItem").on("input",function(){var t="https://suggest.taobao.com/sug?code=utf-8&q="+$(".searchItem").val()+"&callback=?";$(".searchTxt1,.searchTxt2").css("display","none"),0==$(".searchItem").val().length?$(".box_a").css("display","none"):$(".box_a").css("display","block"),$.getJSON(t,function(n){var a="";$(n.result).each(function(t){a+='<li><a href="">'+n.result[t][0]+"</a></li>"}),$(".box_a ul").html(a)})}),$(".searchItem").blur(function(){$(".box_a").css("display","none"),$(".searchTxt1,.searchTxt2").css("display","block")}),(a=jQuery)("#goTop").click(function(){a("html").stop().animate({scrollTop:0},800)}),$.get("http://localhost:1001/recommen",function(a){var i="";$(a).each(function(t){if("hot"==a[t].type)var n='<span class="hot">'+a[t].label+"</span>";else if("cold"==a[t].type)n='<span class="cold">'+a[t].label+"</span>";else n="";i+='\n\t\t<li>\n\t\t<a href="javascript:;" class="detail" data-id="'+a[t].id+'">\n\t\t\t<div>\n\t\t\t\t'+n+'\n\t\t\t\t<img src="'+a[t].src+'" alt="">\n\t\t\t\t<h5>'+a[t].intro+"</h5>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<p>"+a[t].title+"</p>\n\t\t\t\t<h4>￥"+a[t].price+"</h4>\n\t\t\t</div>\n\t\t</a>\n\t</li>\n\t\t"}),$(".recommenList").html(i),$(".detail").click(function(){var t=$(this).attr("data-id");location.href="/html/detail.html?id="+t})}),$(".banner_nav2").hover(function(){var t=$(this).index();$(".twoList").css("display","none"),$(".twoList").eq(t).css("display","block")},function(){$(".twoList").css("display","none")});var i=JSON.parse(localStorage.getItem("userData"));if(i)$(".loginItem").html("欢迎"+i.name+'<a href="javascript:" class="logout">   注销</a>');else{$(".loginItem").html('您好！请<a href="javascript:" class="login">登录</a> / \n\t<a href="/html/register.html">注册</a>')}$(".login").click(function(){$(".mainTab").css("display","block")}),$(".logout").click(function(){localStorage.removeItem("userData"),location.reload()}),$(".cancel").click(function(){$(".mainTab").css("display","none")})});